<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>ServeillanceArt</title>
    <meta name="author" content="Your Name">
    <meta name="copyright" content="© Ziyan Pan, cart 211 project, fall 2025,">
    <link rel="stylesheet" href="../one.css">
</head>

<body>
    <nav class="side-nav">
        <a href="one.html" class="nav-dot active">1</a>
        <a href="sample.html" class="nav-dot">2</a>
        <a href="three.html" class="nav-dot">3</a>
        <a href="four.html" class="nav-dot">4</a>
        <a href="five.html" class="nav-dot">5</a>
        <a href="six.html" class="nav-dot">6</a>
        <a href="seven.html" class="nav-dot">7</a>
        <a href="eight.html" class="nav-dot">8</a>
        <a href="nine.html" class="nav-dot">9</a>
        <a href="ten.html" class="nav-dot">10</a>
    </nav>
    <main>
        <div class="center-wrapper">
            <h1 class="title">I’M TITLE</h1>
            <div class="mask-box" id="maskBox">
                <div class="Eye_Stack" id="eyeStack">

                </div>
            </div>
        </div>
    </main>


    <script>
        window.addEventListener("load", () => {
            const NUM_EYES = 20; // how many eyes we want
            const maskBox = document.getElementById("maskBox");
            const eyeStack = document.getElementById("eyeStack");
            const eyes = [];

            // 1. Dynamically create 20 img elements
            for (let i = 0; i < NUM_EYES; i++) {
                const img = document.createElement("img");
                img.src = "../assets/images/EyeStable.png";
                img.alt = "EyeStable";
                img.classList.add("eye-piece");
                eyeStack.appendChild(img);
                eyes.push(img);
            }

            // 2. Randomize the size and position of ONE eye
            function randomizeOneEye(eye) {
                const maskRect = maskBox.getBoundingClientRect();

                // Random scale between 30% and 80%
                const scale = 0.3 + Math.random() * 0.5;
                eye.style.width = (scale * 100) + "%";
                eye.style.height = "auto";

                // Temporarily reset position so the browser can compute the real size
                eye.style.left = "0px";
                eye.style.top = "0px";

                const eyeRect = eye.getBoundingClientRect();

                // Allow the eye to go 40% outside of the mask on each side
                const overRatio = 0.4; // 40%

                // Horizontal range
                const baseMinLeft = 0;
                const baseMaxLeft = maskRect.width - eyeRect.width;
                const extraX = eyeRect.width * overRatio;

                const minLeft = baseMinLeft - extraX;
                const maxLeft = baseMaxLeft + extraX;

                // Vertical range
                const baseMinTop = 0;
                const baseMaxTop = maskRect.height - eyeRect.height;
                const extraY = eyeRect.height * overRatio;

                const minTop = baseMinTop - extraY;
                const maxTop = baseMaxTop + extraY;

                // Pick a random position inside the extended range
                const randLeft = minLeft + Math.random() * (maxLeft - minLeft);
                const randTop = minTop + Math.random() * (maxTop - minTop);

                eye.style.left = randLeft + "px";
                eye.style.top = randTop + "px";
            }

            // 3. Randomize all eyes
            function randomizeAllEyes() {
                eyes.forEach(randomizeOneEye);
            }

            // Randomize once on page load
            randomizeAllEyes();

            // Randomize again every time the mask box is clicked
            maskBox.addEventListener("click", randomizeAllEyes);
        });
    </script>

</body>